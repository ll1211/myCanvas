<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="熟悉的陌生人, NewLight" />
    <title></title>
    <script type="text/javascript" src="../js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=T3fhnhWDoVYwO4GF37IHBPQZ"></script>
    <script type="text/javascript" src="js/track.js"></script>
    <style type="text/css">
        html, body,#allmap {
            height: 100%;
            width: 100%;
            overflow: hidden;
            margin:0;
        }
        *{margin:0;padding:0;}
    </style>
</head>
<body>
<div id="allmap"></div>

    <script type="text/javascript">
        var map = new BMap.Map("allmap");    // 创建Map实例
        map.centerAndZoom(new BMap.Point(118.787943,32.06449), 16);  // 初始化地图,设置中心点坐标和地图级别
        map.addControl(new BMap.MapTypeControl());   //添加地图类型控件
        map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
        var top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件
        map.addControl(top_left_navigation);
        var width, height;
        var pos = [[797,144],[534,264],[612,408],[859,476],[379,497],[474,215]];
        var speed = 1.5;

        $(function(){
            var track = new Track({map:map,
               points: "118.78762,32.069891;118.784889,32.067014;118.787369,32.063985;118.791932,32.063557;118.792004,32.06117;118.794483,32.058599"
            });
            //track.init();
            track.show();
            track.loop();
        });

        window.requestAnimFrame = (function(){
            return window.requestAnimationFrame ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame ||
                    window.oRequestAnimationFrame ||
                    window.msRequestAnimationFrame ||
                    function( callback ){
                        window.setTimeout(callback, 1000 / 60);//定义每秒执行60次动画
                    };
        })();

    </script>
</body>
</html>